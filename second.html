<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bottle Scroll Animation</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>

  <link rel="stylesheet" href="style.css">
  <style>

    

  </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-left">
                <a href="https://oudofemirates.com/" class="nav-link">Home</a>
                <a href="https://oudofemirates.com/shop" class="nav-link">Shop</a>
                <a href="#" class="nav-link">About</a>
            </div>
            <div class="logo">
                <img src="./images/logo.png" alt="Oud Of Emirates Logo" class="logo">
            </div>
            <div class="nav-right">
                <a href="https://oudofemirates.com/product-category/perfume/" class="nav-link">Perfume</a>
                <a href="https://oudofemirates.com/product-category/attar/" class="nav-link">Attar</a>
                <a href="https://oudofemirates.com/product-category/bakhur/" class="nav-link">Bakhur</a>
                <a href="https://oudofemirates.com/product-category/diffusers/" class="nav-link">Diffusers</a>
            </div>
            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu-content">
                <a href="https://oudofemirates.com/" class="mobile-nav-link">Home</a>
                <a href="https://oudofemirates.com/shop" class="mobile-nav-link">Shop</a>
                <a href="#" class="mobile-nav-link">About</a>
                <a href="https://oudofemirates.com/product-category/perfume/" class="mobile-nav-link">Perfume</a>
                <a href="https://oudofemirates.com/product-category/attar/" class="mobile-nav-link">Attar</a>
                <a href="https://oudofemirates.com/product-category/bakhur/" class="mobile-nav-link">Bakhur</a>
                <a href="https://oudofemirates.com/product-category/diffusers/" class="mobile-nav-link">Diffusers</a>
            </div>
        </div>
    </header>

    <div class="video-banner">
        <video autoplay muted loop playsinline>
          <source src="./video/Oud of Emirates - The Essence of Luxury Fragrances.mp4" type="video/mp4">
          Your browser does not support HTML5 video.
        </video>
      </div>

    <section class="hero-section">
        <div class="hero-background">
            <div class="golden-waves" style="transform: translateY(0px);">
                <img src="images/Wave 1.png" alt="Golden Waves">
            </div>
        </div>
        
        <div class="hero-content">
            <h3 class="hero-sub-title">Dubaiâ€™s <span>Finest</span></h3>
            <h1 class="hero-title">BLENDED BY YUSUF BHAI</h1>

            <!-- Bottles Banner (7 bottles) -->
             <div class="banner">
                <img src="./images/bottel-img-1.png" class="bottle" alt="Bottle 1">
                <img src="./images/bottel-img-2.png" class="bottle" alt="Bottle 2">
                <img src="./images/bottel-img-5.png" class="bottle" alt="Bottle 3">
                <img src="./images/bottel-img-3.png" class="bottle" alt="Bottle 4">
                <img src="./images/bottel-img-6.png" class="bottle hideMob" id="bottle5" alt="Bottle 5">
                <span class="bottle-img-wrap" style="position: relative;">
                    <img src="./images/bottel-img-4.png" class="bottle" id="bottle6" alt="Bottle 6">
                    <img src="./images/bottel-img-4.png" class="bottle" id="bottleDummy" alt="Bottle 6" style="position: absolute; left: 0; top: 0;">
                    <img src="./images/bottel-img-4.png" class="bottle hideMob" id="bottle6Mob" alt="Bottle 6">
                </span>
                <img src="./images/bottel-img-7.png" class="bottle hideMob" alt="Bottle 7">
             </div>
            
        </div>
    </section>
  <!-- Section 1 -->

  <!-- Section 2 -->
  <section class="section-two">
    <div class="slides-wrapper">
      <!-- Perfume Slide -->
      <div class="slide">
        <div class="left-col" id="leftCol">
            <img src="./images/bottel-img-4.png" alt="Black Oud Bottle" class="mobile-static-bottle" id="">
        </div>
        <div class="right-col">
          <h2 class="arrow-heading product-heading" id="productHeading">EAU DE PARFUM </h2>
          <p id="productDescription" class="product-description">Crafted with exquisite blends of oud, florals, spices, and woods, our perfumes embody luxury and sophistication. Each fragrance is designed to leave a lasting impression that complements your personality. They are perfect for everyday wear or special occasions.</p>
        </div>
      </div>
  
      <!-- Attar Slide -->
      <div class="slide">
        <div class="left-col" id="leftCol">
            <img src="./images/bottel-img-4.png" alt="Black Oud Bottle" class="mobile-static-bottle" >
        </div>
        <div class="right-col">
          <h2 class="arrow-heading product-heading" id="productHeading">ESSENCE OF ATTAR </h2>
          <p id="productDescription" class="product-description">Blended with the richness of oud, florals, and precious woods, our attars capture the essence of timeless tradition and luxury. Each fragrance is concentrated and long-lasting, designed to leave an unforgettable aura that resonates with elegance and individuality. Perfect for those who appreciate heritage infused withÂ sophistication.</p>
        </div>
      </div>
    </div>
  
    <!-- Arrows -->
    <div class="arrows">
      <img id="arrowPrev" src="./images/left-arrow.png"/>
      <img id="arrowNext" src="./images/right-arrow.png"/>
    </div>
  </section>
  

  <section class="top-picks-sec">
    <div class="">
        <h2>Top <span>Picks</span></h2>
        <div class="top-picks-slider" id="topPicks">
          <div class="tp-viewport">
            <div class="tp-track">
              <div class="tp-card">
                <img src="./images/top-picks-img-1.png" alt="Deja Vu">
                <div class="tp-meta">
                  <div class="tp-title">Deja Vu</div>
                  <div class="tp-price">â‚¹3,999/-</div>
                </div>
                <a class="tp-btn" href="https://oudofemirates.com/shop/deja-vu/">Buy Now</a>
              </div>
              <div class="tp-card">
                <img src="./images/top-picks-img-2.png" alt="Fairooz">
                <div class="tp-meta">
                  <div class="tp-title">Fairooz</div>
                  <div class="tp-price">â‚¹3,999/-</div>
                </div>
                <a class="tp-btn" href="https://oudofemirates.com/shop/fairooz/">Buy Now</a>
              </div>
              <div class="tp-card">
                <img src="./images/top-picks-img-3.png" alt="Ombre Eternal">
                <div class="tp-meta">
                  <div class="tp-title">Ombre Eternal</div>
                  <div class="tp-price">â‚¹4,999/-</div>
                </div>
                <a class="tp-btn" href="https://oudofemirates.com/shop/ombre-eternal/">Buy Now</a>
              </div>
              <div class="tp-card">
                
                <img src="./images/top-picks-img-4.png" alt="Baccarat 540">
                <div class="tp-meta">
                  <div class="tp-title">Roohan</div>
                  <div class="tp-price">â‚¹4,999/-</div>
                </div>
                <a class="tp-btn" href="https://oudofemirates.com/shop/roohan/">Buy Now</a>
              </div>
              <div class="tp-card">
               
                <img src="./images/top-picks-img-5.png" alt="Dylan Blue Men">
                <div class="tp-meta">
                  <div class="tp-title">Sammaq</div>
                  <div class="tp-price">â‚¹2999/-</div>
                </div>
                <a class="tp-btn" href="https://oudofemirates.com/shop/summaq/">Buy Now</a>
              </div>
              <div class="tp-card">
                
                <img src="./images/top-picks-img-6.png" alt="Dylan Blue Men">
                <div class="tp-meta">
                  <div class="tp-title">Arabian Oud</div>
                  <div class="tp-price">â‚¹2999/-</div>
                </div>
                <a class="tp-btn" href="https://oudofemirates.com/shop/arabian-oud/">Buy Now</a>
              </div>
            </div>
          </div>
        </div>
    </div>
  </section>
  <section>
    <div class="lottie-container">
        <div id="lottie-container"></div>
  </section>


  <section class="best-seller-sec">
    <div class="container">
        <h2>Best <span>Sellers</span></h2>
        <div class="card-row">
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/black-oud/">
                    <img src="./images/card-img-1.png"/>
                    <div class="card-content">
                        <p>Black Oud</p>
                        <p>â‚¹3,999/-</p>
                    </div>
                </a>
                
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/baccarat-540/">
                <img src="./images/card-img-2.png"/>
                <div class="card-content">
                    <p>Baccarat 540</p>
                    <p>â‚¹3,999/-</p>
                </div>
            </a>
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/fairooz/">
                <img src="./images/card-img-4.png"/>
                <div class="card-content">
                    <p>Fairooz</p>
                    <p>â‚¹3,999/-</p>
                </div>
            </a>
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/deja-vu/">
                <img src="./images/card-img-3.png"/>
                <div class="card-content">
                    <p>Deja Vu</p>
                    <p>â‚¹3,999/-</p>
                </div>
            </a>
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/dylan-blue-men/">
                <img src="./images/card-img-5.png"/>
                <div class="card-content">
                    <p>Dylan Blue Men</p>
                    <p>â‚¹999/-</p>
                </div>
            </a>
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/channel-5/">
                <img src="./images/card-img-6.png"/>
                <div class="card-content">
                    <p>Chanel 5</p>
                    <p>â‚¹999/-</p>
                </div>
            </a>
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/oud-ispahan/">
                <img src="./images/card-img-7.png"/>
                <div class="card-content">
                    <p>Oud Ispahan</p>
                    <p>â‚¹999/-</p>
                </div>
            </a>
            </div>
            <div class="best-card-col">
                <a href="https://oudofemirates.com/shop/imperial-valley/">
                <img src="./images/card-img-8.png"/>
                <div class="card-content">
                    <p>Imperial Valley</p>
                    <p>â‚¹999/-</p>
                </div>
            </a>
            </div>
        </div>
    </div>
  </section>
  <footer class="footer">
    <div class="container">
        <h2 class="footer-title">Indulge in <span>Luxury </span>Scents</h2>
        <p class="footer-content">Discover the perfect fragrance to suit your style. Shop our exclusive collection now.</p>
        <p class="explore-btn"><a href="#">Explore</a></p>

        <div class="privacy-wrapper">
            <p>PRIVACY POLICY</p>
            <p>FAQs</p>
            <p>TERMS OF SERVICE</p>
        </div>
        <div class="footer-logo">
            <a href="#"><img src="./images/facebook.png" alt="facebook"></a>
            <a href="#"><img src="./images/instagram.png" alt="instagram"></a>
            <a href="#"><img src="./images/twitter.png" alt="twitter"></a>
        </div>
        <p class="footer-copyright-text">Â© 2025  Oud Of Emirates. All rights reserved.</p>
    </div>
  </footer>


  <script>
    gsap.registerPlugin(ScrollTrigger);
  
    window.addEventListener("load", () => {
      const bottle = document.getElementById("bottle6");
      const leftCol = document.getElementById("leftCol");
      const dummyBottle = document.getElementById("bottleDummy");
  
      function animateBottle() {
  const bottle = document.getElementById("bottle6");
  const leftCol = document.getElementById("leftCol");
  const dummyBottle = document.getElementById("bottleDummy");

  if (!bottle || !leftCol || !dummyBottle) return; // exit if any element is missing

  if (window.innerWidth <= 768) {
    gsap.killTweensOf(bottle);
    ScrollTrigger.getAll().forEach(t => t.kill());
    return;
  }

  ScrollTrigger.getAll().forEach(t => t.kill());

  const startRect = bottle.getBoundingClientRect();
  const endRect = leftCol.getBoundingClientRect();

  const startX = startRect.left + window.scrollX;
  const startY = startRect.top + window.scrollY;
  const endX = endRect.left + window.scrollX + endRect.width / 2 - startRect.width / 2;
  const endY = endRect.top + window.scrollY + endRect.height / 2 - startRect.height / 2;

  gsap.set(bottle, { x: 0, y: 0, scale: 1 });

  gsap.to(bottle, {
    x: endX - startX,
    y: endY - startY,
    scale: 1.5,
    ease: "power1.out",
    scrollTrigger: {
      trigger: ".section-two",
      start: "top bottom",
      end: "top center",
      scrub: true,
      once: true,
      onLeave: () => {
         // Fade in dummy bottle in banner
        gsap.to(dummyBottle, { opacity: 1, duration: 0.4 });
        gsap.fromTo(dummyBottle, { opacity: 0 }, { opacity: 1, duration: 0.4 });
        // Keep animated bottle in its new position
        gsap.set(bottle, { x: endX - startX, y: endY - startY, scale: 1.5 });
      }
    }
  });
}



  
      animateBottle();
      window.addEventListener("resize", animateBottle);

      const slidesWrapper = document.querySelector('.slides-wrapper');
const prevBtn = document.getElementById('arrowPrev');
const nextBtn = document.getElementById('arrowNext');

let slideIndex = 0;
const totalSlides = document.querySelectorAll('.slide').length;

slidesWrapper.style.transform = `translateX(-${slideIndex * 100}%)`;

function updateSlide() {
  slidesWrapper.style.transform = `translateX(-${slideIndex * 100}%)`;
}

prevBtn.addEventListener('click', () => {
  slideIndex = (slideIndex - 1 + totalSlides) % totalSlides;
  updateSlide();
});

nextBtn.addEventListener('click', () => {
  slideIndex = (slideIndex + 1) % totalSlides;
  updateSlide();
});


      function render(state){
        // Update heading and description with smooth animation
        gsap.to(headingEl, {opacity: 0, y: 10, duration: 0.2, onComplete: () => {
          headingEl.textContent = state.heading;
          gsap.to(headingEl, {opacity: 1, y: 0, duration: 0.3});
        }});
        
        gsap.to(descriptionEl, {opacity: 0, y: 10, duration: 0.2, onComplete: () => {
          descriptionEl.textContent = state.description;
          gsap.to(descriptionEl, {opacity: 1, y: 0, duration: 0.3});
        }});

        // Update section-two bottle
        staticBottle.src = state.bottleSrc;

        // Update banner bottle (#bottle6)
        const bannerBottle = document.getElementById('bottle6');
        if (bannerBottle) bannerBottle.src = state.bottleSrc;

        // Update Top Picks
        const cards = Array.from(topPicksTrack.querySelectorAll('.tp-card'));
        state.topPicks.forEach((item, i) => {
          const card = cards[i];
          if (!card) return;
          card.querySelector('img').src = item.img;
          card.querySelector('.tp-title').textContent = item.title;
          card.querySelector('.tp-price').textContent = item.price;
        });

        gsap.fromTo(staticBottle, {opacity:0.7, scale:0.98}, {opacity:1, scale:1, duration:0.35});
      }


      
    //   // Page load fades
    //   gsap.set(document.body, { opacity: 0 });
    //   gsap.to(document.body, { opacity: 1, duration: 0.6, ease: "power1.out" });
      
    //   // Hero banner bottles
    //   gsap.from('.banner .bottle', {
    //     opacity: 0,
    //     y: 20,
    //     duration: 0.8,
    //     ease: 'power2.out',
    //     stagger: 0.08
    //   });
      
      // Section two reveal on scroll (left bottle area and right text)
      gsap.utils.toArray('.section-two .right-col > *, .section-two .left-col').forEach((el, idx) => {
        gsap.from(el, {
          opacity: 0,
          y: 24,
          duration: 0.6,
          ease: 'power2.out',
          delay: idx * 0.05,
          scrollTrigger: {
            trigger: '.section-two',
            start: 'top bottom',
            end: 'top center',
            toggleActions: 'play none none reverse'
          }
        });
      });
      
      // Top Picks cards
      gsap.utils.toArray('.top-picks-sec .tp-card').forEach((card, i) => {
        gsap.fromTo(card,
        { opacity: 0, y: 24 },
        {
            opacity: 1,
            y: 0,
            duration: 0.5,
            ease: 'power2.out',
            delay: i * 0.05,
            scrollTrigger: {
            trigger: card,
            start: 'top 90%',
            toggleActions: "play none none none",
            once: true
            }
        }
        );
      });
      
      // Best seller cards
      gsap.utils.toArray('.best-seller-sec .best-card-col').forEach((card, i) => {
        gsap.from(card, {
          opacity: 0,
          y: 84,
          duration: 0.8,
          ease: 'power2.out',
          delay: i * 0.08,
          scrollTrigger: {
            trigger: card,
            start: 'top 70%'
          }
        });
      });

      // Hero title 
      gsap.utils.toArray('.hero-title ,.hero-sub-title').forEach((el, i) => {
        gsap.from(el, {
          opacity: 0,
          y: 84,
          duration: 0.9,
          ease: 'power2.out',
          delay: i * 0.08,
          scrollTrigger: {
            trigger: el,
            start: 'top 50%'
          }
        });
      });

      // Footer 
      gsap.utils.toArray('.footer .footer-title').forEach((el, i) => {
        gsap.from(el, {
          opacity: 0,
          y: 84,
          duration: 0.8,
          ease: 'power2.out',
          delay: i * 0.06,
          scrollTrigger: {
            trigger: el,
            start: 'top 75%'
          }
        });
      });
      gsap.utils.toArray('.footer .footer-content').forEach((el, i) => {
        gsap.from(el, {
          opacity: 0,
          y: 54,
          duration: 1,
          ease: 'power2.out',
          delay: i * 0.08,
          scrollTrigger: {
            trigger: el,
            start: 'top 65%'
          }
        });
      });

      // Mobile fallback to ensure visibility (avoid elements stuck at opacity 0)
      function ensureMobileVisibility(){
        if (window.innerWidth <= 768) {
          const selectors = [
            '.top-picks-sec .tp-card',
            '.best-seller-sec .best-card-col',
            '.hero-title',
            '.hero-sub-title',
            '.footer .footer-title',
            '.footer .footer-content',
            '.section-two .right-col > *',
            '.section-two .left-col'
          ];
          selectors.forEach(sel => {
            gsap.set(sel, { opacity: 1, x: 0, y: 0, clearProps: 'all' });
          });
        }
      }
      ensureMobileVisibility();
      window.addEventListener('resize', ensureMobileVisibility);
    });

    // Simple 2-slide toggler (Perfume <-> Attar)
    (function(){
        const PRODUCT_STATES = [
  {
    key: 'perfume',
    heading: 'EAU DE PARFUM',
    description: 'Crafted with exquisite blends of oud, florals, spices, and woods, our perfumes embody luxury and sophistication. Each fragrance is designed to leave a lasting impression that complements your personality. They are perfect for everyday wear or special occasions.',
    bottleSrc: './images/bottel-img-4.png',
    topPicks: [
      {img:'./images/top-picks-img-1.png', title:'Deja Vu', price:'â‚¹3,999/-', link:'https://oudofemirates.com/shop/deja-vu/'},
      {img:'./images/top-picks-img-2.png', title:'Fairooz', price:'â‚¹3,999/-', link:'https://oudofemirates.com/shop/fairooz/'},
      {img:'./images/top-picks-img-3.png', title:'Ombre Eternal', price:'â‚¹4,999/-', link:'https://oudofemirates.com/shop/ombre-eternal/'},
      {img:'./images/top-picks-img-4.png', title:'Roohan', price:'â‚¹4,999/-', link:'https://oudofemirates.com/shop/roohan/'},
      {img:'./images/top-picks-img-5.png', title:'Sammaq', price:'â‚¹2,999/-', link:'https://oudofemirates.com/shop/summaq/'},
      {img:'./images/top-picks-img-6.png', title:'Arabian Oud', price:'â‚¹2,999/-', link:'https://oudofemirates.com/shop/arabian-oud/'}
    ]
  },
  {
    key: 'attar',
    heading: 'ESSENCE OF ATTAR',
    description: 'Blended with the richness of oud, florals, and precious woods, our attars capture the essence of timeless tradition and luxury. Each fragrance is concentrated and long-lasting, designed to leave an unforgettable aura that resonates with elegance and individuality. Perfect for those who appreciate heritage infused withÂ sophistication.',
    bottleSrc: './images/bottel-img-1.png',
    topPicks: [
      {img:'./images/sabaya.webp', title:'Sabaya', price:'â‚¹999/-', link:'https://oudofemirates.com/shop/sabaya/'},
      {img:'./images/chanel-5.webp', title:'Chanel 5', price:'â‚¹999/-', link:'https://oudofemirates.com/shop/chanel-5/'},
      {img:'./images/4-1.webp', title:'Imperial Valley', price:'â‚¹999/-', link:'https://oudofemirates.com/shop/imperial-valley/'},
      {img:'./images/5.webp', title:'Black Montale', price:'â‚¹999/-', link:'https://oudofemirates.com/shop/black-montale/'},
      {img:'./images/13.webp', title:'Sauvage', price:'â‚¹999/-', link:'https://oudofemirates.com/shop/sauvage/'},
      {img:'./images/br-540.webp', title:'BR 540', price:'â‚¹999/-', link:'https://oudofemirates.com/shop/br-540/'}
    ]
  }
];


      const prevBtn = document.getElementById('arrowPrev');
      const nextBtn = document.getElementById('arrowNext');
      const headingEl = document.getElementById('productHeading');
      const descriptionEl = document.getElementById('productDescription');
      let slideIndex = 0;
      // Inside your render() function:
      const slides = document.querySelectorAll('.slide');

      const staticBottle = slides[slideIndex].querySelector('.mobile-static-bottle');

      const topPicksTrack = document.querySelector('.top-picks-slider .tp-track');

      if (!prevBtn || !nextBtn || !headingEl || !descriptionEl || !staticBottle || !topPicksTrack) return;

       // 0: perfume, 1: attar

      function render(state, currentSlide){
        // Update heading text (preserve arrows span)
        const span = headingEl.querySelector('span');
        headingEl.childNodes[0].nodeValue = state.heading + ' ';

        descriptionEl.textContent = state.description;
       // Get the bottle in the current active slide
        const staticBottle = slides[slideIndex].querySelector('.mobile-static-bottle');
        if (staticBottle) staticBottle.src = state.bottleSrc;

        const bannerBottle5 = document.getElementById('bottle6');
        if (bannerBottle5) bannerBottle5.src = state.bottleSrc;

        // Update Top Picks cards
        const cards = Array.from(topPicksTrack.querySelectorAll('.tp-card'));
        const data = state.topPicks;
        cards.forEach((card, i)=>{
          const img = card.querySelector('img');
          const title = card.querySelector('.tp-title');
          const price = card.querySelector('.tp-price');
          const btn = card.querySelector('.tp-btn');
          if (data[i]){
            img.src = data[i].img;
            img.alt = data[i].title;
            title.textContent = data[i].title;
            price.textContent = data[i].price;
            btn.href = data[i].link;
          }
        });

        // small feedback animation
        // gsap.fromTo(headingEl, {opacity:0, y:8}, {opacity:1, y:0, duration:0.35});
        gsap.fromTo(staticBottle, {opacity:0.7, scale:0.98}, {opacity:1, scale:1, duration:0.35});
      }

      function go(delta){
        slideIndex = (slideIndex + delta + PRODUCT_STATES.length) % PRODUCT_STATES.length;
        render(PRODUCT_STATES[slideIndex]);
      }

      prevBtn.addEventListener('click', ()=> go(-1));
      nextBtn.addEventListener('click', ()=> go(1));

      // init
      render(PRODUCT_STATES[slideIndex]);
    })();
    window.addEventListener("load", () => {
  ScrollTrigger.refresh();
});

    // Mobile Menu Toggle
    (function(){
      const mobileMenuToggle = document.getElementById('mobileMenuToggle');
      const mobileMenu = document.getElementById('mobileMenu');
      
      if (!mobileMenuToggle || !mobileMenu) return;
      
      mobileMenuToggle.addEventListener('click', () => {
        mobileMenuToggle.classList.toggle('active');
        mobileMenu.classList.toggle('active');
        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
      });
      
      // Close menu when clicking on links
      const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
      mobileNavLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenuToggle.classList.remove('active');
          mobileMenu.classList.remove('active');
          document.body.style.overflow = '';
        });
      });
      
      // Close menu when clicking outside
      mobileMenu.addEventListener('click', (e) => {
        if (e.target === mobileMenu) {
          mobileMenuToggle.classList.remove('active');
          mobileMenu.classList.remove('active');
          document.body.style.overflow = '';
        }
      });
    })();

    // Top Picks slider logic
    (function(){
      const slider = document.getElementById('topPicks');
      if(!slider) return;
      const track = slider.querySelector('.tp-track');
      let index = 0;

      function cardsPerView(){
        if (window.innerWidth <= 600) return 1;
        if (window.innerWidth <= 992) return 2;
        return 3;
      }

      function maxIndex(){
        const total = track.children.length;
        const visible = cardsPerView();
        return Math.max(0, total - visible);
      }

      function update(){
        const cw = track.children[0].getBoundingClientRect().width + 24; // including gap
        track.style.transition = 'transform 400ms ease';
        track.style.transform = `translateX(${-index * cw}px)`;
      }

      // drag / swipe
      let startX = 0; let currentX = 0; let dragging = false; let baseOffset = 0;
      const viewport = slider.querySelector('.tp-viewport');
      function getCardWidth(){ return track.children[0].getBoundingClientRect().width + 24; }
      function setTranslate(px){ track.style.transform = `translateX(${px}px)`; }

      viewport.addEventListener('pointerdown', (e)=>{
        dragging = true; startX = e.clientX; currentX = startX; viewport.setPointerCapture(e.pointerId);
        stopAuto();
        const cw = getCardWidth();
        baseOffset = -(index * cw);
        track.style.transition = 'none';
      });
      viewport.addEventListener('pointermove', (e)=>{ if(!dragging) return; currentX = e.clientX; const dx = currentX - startX; setTranslate(baseOffset + dx); });
      function endDrag(){
        if(!dragging) return; dragging = false; track.style.transition = 'transform 400ms ease';
        const dx = currentX - startX; const cw = getCardWidth();
        if (dx > cw/4) { index = Math.max(0, index - 1); }
        else if (dx < -cw/4) { index = Math.min(maxIndex(), index + 1); }
        update(); startAuto();
      }
      viewport.addEventListener('pointerup', endDrag);
      viewport.addEventListener('pointercancel', endDrag);

      // autoplay
      let autoTimer = null;
      function startAuto(){
        stopAuto();
        autoTimer = setInterval(()=>{
          index = (index >= maxIndex()) ? 0 : index + 1;
          update();
        }, 2500);
      }
      function stopAuto(){ if (autoTimer) { clearInterval(autoTimer); autoTimer = null; } }
      slider.addEventListener('mouseenter', stopAuto);
      slider.addEventListener('mouseleave', startAuto);
      window.addEventListener('resize', update);
      update();
      startAuto();
    })();
  </script>
  <script>
    fetch("./test.json")
      .then((res) => res.json())
      .then((data) => {
        lottie.loadAnimation({
          container: document.getElementById("lottie-container"),
          renderer: "svg",
          loop: true,
          autoplay: true,
          animationData: data, // ðŸ‘ˆ use JSON directly
        });
      });
  </script>

  
</body>
</html>
